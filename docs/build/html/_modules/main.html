
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>main &#8212; kinopt 1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=362ab14a" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/main';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">kinopt 1.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Module code</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">main</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <h1>Source code for main</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Fri Feb 23 16:53:20 2024</span>

<span class="sd">@author: alan.tabore</span>
<span class="sd">&quot;&quot;&quot;</span>
   
    
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="c1"># Get the absolute path of the &#39;Kinopt&#39; folder</span>
<span class="n">kinopt_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;..&#39;</span><span class="p">))</span>
<span class="c1"># Add the &#39;Kinopt&#39; folder to the Python path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kinopt_path</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QFileDialog</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QComboBox</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QLineEdit</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">QStringListModel</span><span class="p">,</span> <span class="n">QThread</span><span class="p">,</span> <span class="n">pyqtSignal</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="n">QTextCursor</span>
<span class="kn">from</span> <span class="nn">kinopt_interface</span> <span class="kn">import</span> <span class="n">Ui_MainWindow</span>

<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="kn">import</span> <span class="n">FigureCanvasQTAgg</span> <span class="k">as</span> <span class="n">FigureCanvas</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="kn">import</span> <span class="n">NavigationToolbar2QT</span> <span class="k">as</span> <span class="n">NavigationToolbar</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>


<span class="kn">import</span> <span class="nn">data_extraction</span>
<span class="kn">import</span> <span class="nn">isoconversional_methods</span> <span class="k">as</span> <span class="nn">icm</span>
<span class="kn">import</span> <span class="nn">kinetic_models</span> <span class="k">as</span> <span class="nn">km</span>
<span class="kn">import</span> <span class="nn">optimization</span> <span class="k">as</span> <span class="nn">opt</span> 

<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">time</span> <span class="k">as</span> <span class="nn">time_module</span>
<span class="kn">import</span> <span class="nn">datetime</span>


<div class="viewcode-block" id="MainWindow">
<a class="viewcode-back" href="../modules.html#main.MainWindow">[docs]</a>
<span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Set up the user interface from Designer.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_MainWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Connect data extraction elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_add_files</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browse_files</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_clear_all_files</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_files</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_extract_data</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_data</span><span class="p">)</span>
        
        <span class="c1"># Connect isoconversional analysis elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_isoconversional_analysis_methods</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">get_functions_for_isoconversional_method</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_isoconversional_analysis_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_isoconversional_analysis_methods</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_isoconversional_formLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_autofill_isoconversional</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autofill_isoconversional_analysis_parameters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_clear_isoconversional</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_isoconversional_formLayout_and_combobox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_launch_isoconversional_analysis</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">launch_isoconversional_analysis</span><span class="p">)</span>
        
        <span class="c1"># Connect results viewer elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_load_result_files</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_results_files</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_clear_result_files</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_results_files</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_display_result_files</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_selected_result_file</span><span class="p">)</span>
        
        <span class="c1"># Connect models and parameters elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">rate_laws</span><span class="p">,</span> <span class="n">vitrification_laws</span><span class="p">,</span> <span class="n">coupling_laws</span><span class="p">,</span> <span class="n">tg_laws</span> <span class="o">=</span> <span class="n">get_functions_for_kinetics</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">rate_laws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_rate_formLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_vitrification_model</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">vitrification_laws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_vitrification_model</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_vitrification_model</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_vitrification_formLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_coupling_law</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">coupling_laws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_coupling_law</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_coupling_law</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_coupling_formLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_tg_law</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">tg_laws</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_tg_law</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_tg_law</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_tg_formLayout</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_clear_models_and_parameters</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_models_and_parameters_forms_and_combobox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_autofill_models_and_parameters</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autofill_models_parameters</span><span class="p">)</span>
        
        <span class="c1"># Connect optimization parameters elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">global_optimization_methods</span><span class="p">,</span> <span class="n">local_optimization_methods</span><span class="p">,</span> <span class="n">rss_methods</span> <span class="o">=</span> <span class="n">get_functions_for_optimization</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">global_optimization_methods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_global_optimization_gridLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">local_optimization_methods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_local_optimization_gridLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">rss_methods</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_cost_functions_formLayout</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_clear_optimization</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_optimization_grids_and_combobox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_autofill_optimization</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autofill_optimization_parameters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_launch_optimization</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">launch_optimization</span><span class="p">)</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the rate from extracted data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_rate</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_rate</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_rate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_rate</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_rate</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_rate</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the extent from extracted data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_extent</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_extent</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_extent</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_extent</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_extent</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_extent</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the temperature from extracted data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_temperature</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_temperature</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_temperature</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_data_extraction_temperature</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_temperature</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_temperature</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_data_extraction_temperature</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_temperature</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_data_extraction_rate</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_data_extraction_extent</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_data_extraction_temperature</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_temperature</span><span class="p">)</span>

        <span class="c1"># Create a Matplotlib figure and canvas to plot the evolution of activation energy from isoconversional analysis</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_isoconversional_analysis</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_isoconversional_analysis</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_isoconversional_analysis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_isoconversional_analysis</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_isoconversional_analysis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_isoconversional_analysis</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the rate during optimization</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_optimization</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_optimization</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_optimization</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_optimization</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_optimization</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_optimization</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the rate from result file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_rate</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_rate</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_rate</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_rate</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_rate</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_rate</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the extent from result file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_extent</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_extent</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_extent</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_extent</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_extent</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_extent</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="c1"># Create a Matplotlib figure and canvas to plot the temperature from result file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_temperature</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_temperature</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_temperature</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure_results_viewer_temperature</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_temperature</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_temperature</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">verticalLayout_results_viewer_temperature</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_temperature</span><span class="p">,</span><span class="bp">self</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_results_viewer_rate</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_result_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_results_viewer_extent</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_result_extent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_results_viewer_temperature</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_extracted_result_temperature</span><span class="p">)</span>
        
        
<div class="viewcode-block" id="MainWindow.browse_files">
<a class="viewcode-back" href="../modules.html#main.MainWindow.browse_files">[docs]</a>
    <span class="k">def</span> <span class="nf">browse_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a file dialog to browse and select multiple files. Update the file paths list widget.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Open a file dialog to select files</span>
            <span class="n">file_paths</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileNames</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="s2">&quot;Select Files&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Text Files (*.txt);;CSV Files (*.csv);;All Files (*)&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">file_paths</span><span class="p">:</span>
                <span class="c1"># Clear the data extraction plots in case previous files were extracted</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clear_data_extraction_plots</span><span class="p">()</span>
                
                <span class="c1"># Update listView background in white to indicate no extraction was performed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: white&quot;</span><span class="p">)</span>
                
                <span class="c1"># Create a string list model to hold the filenames</span>
                <span class="n">string_list_model</span> <span class="o">=</span> <span class="n">QStringListModel</span><span class="p">()</span>
    
                <span class="c1"># Populate the model with shortened filenames</span>
                <span class="n">string_list_model</span><span class="o">.</span><span class="n">setStringList</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">])</span>
                
                <span class="c1"># Save the shortened filenames</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">]</span>
    
                <span class="c1"># Set the model for the list view</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">string_list_model</span><span class="p">)</span>
    
                <span class="c1"># Store the full file paths in an instance variable</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_file_paths</span> <span class="o">=</span> <span class="n">file_paths</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.clear_files">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_files">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear all the files in the listView_files object.&quot;&quot;&quot;</span>
        <span class="c1"># Create an empty string list model to empty the listView</span>
        <span class="n">string_list_model</span> <span class="o">=</span> <span class="n">QStringListModel</span><span class="p">()</span>
        <span class="c1"># Set the model for the list view with the empty list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">string_list_model</span><span class="p">)</span>
        <span class="c1"># Empty the full file paths list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_file_paths</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Empty the shortened file paths list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Reset the bool to indicate successful extraction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span> <span class="o">=</span> <span class="kc">None</span>
        
        <span class="c1"># Update listView background in white to indicate no extraction was performed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: white&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_data_extraction_plots</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="MainWindow.extract_data">
<a class="viewcode-back" href="../modules.html#main.MainWindow.extract_data">[docs]</a>
    <span class="k">def</span> <span class="nf">extract_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract data from selected files and update GUI elements based on extraction results.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the selected file paths</span>
            <span class="n">file_paths_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_file_paths</span>

            <span class="c1"># Check if no files have been selected</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">file_paths_list</span><span class="p">:</span>
                <span class="c1"># Show a warning message using PySide2</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;No File Selected&quot;</span><span class="p">,</span> <span class="s2">&quot;Please select a file before extracting.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
    
            <span class="c1"># Get the delimiter entry from the line edit field</span>
            <span class="n">delimiter_entry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineEdit_delimiter</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">delimiter_entry</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">delimiter_entry</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span>
            <span class="k">elif</span> <span class="n">delimiter_entry</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;tab&quot;</span> <span class="ow">or</span> <span class="n">delimiter_entry</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">t&quot;</span><span class="p">:</span>
                <span class="n">delimiter_entry</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span>
    
            <span class="c1"># Get the value of the file_has_header_var (Int variable indicating if files have headers)</span>
            <span class="n">has_header_entry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">checkBox_file_has_headers</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>
            
            <span class="c1"># Get the number of lines to skip from the line edit field and convert to integer</span>
            <span class="n">number_of_lines_to_skip</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineEdit_number_of_lines_to_skip</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                
            <span class="c1"># Launch the extraction process with provided parameters</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">time_array</span><span class="p">,</span> <span class="n">temp_array</span><span class="p">,</span> <span class="n">rate_array</span><span class="p">,</span> <span class="n">extent_array</span> <span class="o">=</span> <span class="n">launch_extraction</span><span class="p">(</span>
                <span class="n">file_paths_list</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="n">delimiter_entry</span><span class="p">,</span>
                <span class="n">has_header</span><span class="o">=</span><span class="n">has_header_entry</span><span class="p">,</span>
                <span class="n">skip_lines</span><span class="o">=</span><span class="n">number_of_lines_to_skip</span>
            <span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            
            
            <span class="c1"># Check if the extraction was successful</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span><span class="p">:</span>
                <span class="c1"># Update experimental data arrays in the class instance</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_time</span> <span class="o">=</span> <span class="n">time_array</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperature</span> <span class="o">=</span> <span class="n">temp_array</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span> <span class="o">=</span> <span class="n">rate_array</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_extent</span> <span class="o">=</span> <span class="n">extent_array</span>
    
                <span class="c1"># Update listView background in green to indicate a successful extraction</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: #C8FFC8&quot;</span><span class="p">)</span>
                
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Extraction Successful&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Successful extraction! </span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
               
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="c1"># Create lists with data separated by files</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperatures</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_extents</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_full_file_paths</span><span class="p">):</span>
                    <span class="n">time</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">data_extraction</span><span class="o">.</span><span class="n">extract_dsc_data_single_file</span><span class="p">(</span>
                        <span class="n">filepath</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="n">delimiter_entry</span><span class="p">,</span> <span class="n">has_header</span><span class="o">=</span><span class="n">has_header_entry</span><span class="p">,</span> <span class="n">skip_lines</span><span class="o">=</span><span class="n">number_of_lines_to_skip</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperatures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temperature</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">experimental_extents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extent</span><span class="p">)</span>
                    
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="n">rate</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="n">extent</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="n">temperature</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Rate (s-1)&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Extent&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature (K)&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_rate</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_extent</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_temperature</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tabWidget_visualization</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Update listView background in green to indicate a failed extraction</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: #FFC8C8&quot;</span><span class="p">)</span>

                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Extraction Failed&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Extraction failed! </span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;&#39;MainWindow&#39; object has no attribute &#39;selected_full_file_paths&#39;&quot;</span><span class="p">:</span>
                <span class="c1"># Handle the specific AttributeError and display a customized error message</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please select a file.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Handle other AttributeErrors (if any) differently</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An AttributeError occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.clear_data_extraction_plots">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_data_extraction_plots">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_data_extraction_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_rate</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_extent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_data_extraction_temperature</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_rate</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_extent</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_data_extraction_temperature</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="MainWindow.show_extracted_rate">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_rate">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_data_extraction</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_data_extraction_rate</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="MainWindow.show_extracted_extent">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_extent">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_data_extraction</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_data_extraction_extent</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MainWindow.show_extracted_temperature">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_temperature">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_data_extraction</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_data_extraction_temperature</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="MainWindow.update_isoconversional_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_isoconversional_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_isoconversional_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Clear parameter entry boxes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_isoconversional_analysis_methods</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># Get parameters for the selected model</span>
        <span class="n">isoconversional_method_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_isoconversional_method</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span><span class="p">)</span>
        
        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_to_give</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;conv_lists&quot;</span><span class="p">,</span> <span class="s2">&quot;time_lists&quot;</span><span class="p">,</span> <span class="s2">&quot;temperature_lists&quot;</span><span class="p">,</span> <span class="s2">&quot;rate_lists&quot;</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_isoconversional_analysis</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># Create line edit entities for each parameter</span>
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">isoconversional_method_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Adding the parameters to optimize to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_to_give</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_isoconversional_analysis</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">parameter</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="n">line_edit</span><span class="p">)</span></div>

        

<div class="viewcode-block" id="MainWindow.clear_isoconversional_formLayout_and_combobox">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_isoconversional_formLayout_and_combobox">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_isoconversional_formLayout_and_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Clear parameter entry boxes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_isoconversional_analysis_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_to_give</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></div>

        
                
<div class="viewcode-block" id="MainWindow.get_isoconversional_method_args">
<a class="viewcode-back" href="../modules.html#main.MainWindow.get_isoconversional_method_args">[docs]</a>
    <span class="k">def</span> <span class="nf">get_isoconversional_method_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Get arguments from parameter entry boxes</span>
        <span class="n">isoconversional_method_args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_isoconversional_analysis</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please fill all the values for the isoconversional law.&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
                <span class="n">isoconversional_method_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">()))</span>

        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">isoconversional_method_args</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MainWindow.autofill_isoconversional_analysis_parameters">
<a class="viewcode-back" href="../modules.html#main.MainWindow.autofill_isoconversional_analysis_parameters">[docs]</a>
    <span class="k">def</span> <span class="nf">autofill_isoconversional_analysis_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_isoconversional_analysis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;min_conv&quot;</span><span class="p">:</span>
                    <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0.1&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;max_conv&quot;</span><span class="p">:</span>
                    <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0.9&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span>
                    <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;50000&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;number_of_points&quot;</span><span class="p">:</span>
                    <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;100&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred:</span><span class="se">\n</span><span class="s2">The parameter </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> doesn&#39;t have a default value.</span><span class="se">\n</span><span class="s2">Please modify the &#39;autofill_isoconversional_analysis_parameters&#39; function.&quot;</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Icon</span><span class="o">.</span><span class="n">Critical</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span> </div>

            
<div class="viewcode-block" id="MainWindow.launch_isoconversional_analysis">
<a class="viewcode-back" href="../modules.html#main.MainWindow.launch_isoconversional_analysis">[docs]</a>
    <span class="k">def</span> <span class="nf">launch_isoconversional_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;successful_extraction&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you extracted the data successfully.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># Obtain isoconversional_method and related parameters</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please select an isoconversional method&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># Get the selected isoconversional method from the module icm</span>
            <span class="n">isoconversional_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">icm</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span><span class="p">)</span>

            <span class="c1"># Retrieve the associated experimental parameters</span>
            <span class="n">experimental_args_for_isoconversional_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">isoconversional_method_parameters_experimental</span><span class="p">)</span>
            
            <span class="c1"># Retrieve the isoconversional method arguments</span>
            <span class="n">isoconversional_method_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_isoconversional_method_args</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">isoconversional_method_args</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="c1"># Perform the isoconversional analysis</span>
            <span class="n">isoconversional_analysis_result</span> <span class="o">=</span> <span class="n">isoconversional_method</span><span class="p">(</span>
                <span class="o">*</span><span class="n">experimental_args_for_isoconversional_analysis</span><span class="p">,</span> <span class="o">*</span><span class="n">isoconversional_method_args</span><span class="p">)</span>

            <span class="c1"># Plot the results</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">isoconversional_analysis_result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">isoconversional_analysis_result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Conversion&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$E_a$ (J/mol)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_isoconversional_analysis</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evolution of Ea obtained with </span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_isoconversional_method</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">figure_isoconversional_analysis</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_isoconversional_analysis</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tabWidget_visualization</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="MainWindow.update_rate_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_rate_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_rate_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the entry boxes for rate parameters based on the selected rate model.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (Event): The event that triggers the update.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_optimization_grids_and_combobox</span><span class="p">()</span>
        <span class="c1"># Clear formLayout</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_rate</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_rate</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># Get parameters for the selected model</span>
        <span class="n">rate_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_rate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span><span class="p">)</span>

        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">,</span> <span class="s1">&#39;Tg&#39;</span><span class="p">,</span> <span class="s1">&#39;optional_parameters&#39;</span><span class="p">]</span>
        
        <span class="c1"># Dictionnary to store the graphical entities for the formLayout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">rate_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Adding the parameters to optimize to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_to_optimize</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_rate</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">parameter</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="n">line_edit</span><span class="p">)</span></div>


        
            
<div class="viewcode-block" id="MainWindow.update_vitrification_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_vitrification_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_vitrification_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the entry boxes for rate parameters based on the selected rate model.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (Event): The event that triggers the update.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_optimization_grids_and_combobox</span><span class="p">()</span>
        <span class="c1"># Clear formLayout</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_vitrification</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_vitrification</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_vitrification_model</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># Get parameters for the selected model</span>
        <span class="n">vitrification_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_vitrification</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span><span class="p">)</span>

        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">,</span> <span class="s1">&#39;extent_at_gel&#39;</span><span class="p">,</span> <span class="s1">&#39;Tg&#39;</span><span class="p">,</span> <span class="s1">&#39;optional_parameters&#39;</span><span class="p">]</span>
        
        <span class="c1"># Dictionnary to store the graphical entities for the formLayout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">vitrification_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Adding the parameters to optimize to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_to_optimize</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_vitrification</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">parameter</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="n">line_edit</span><span class="p">)</span></div>


        
        
<div class="viewcode-block" id="MainWindow.update_coupling_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_coupling_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_coupling_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the entry boxes for rate parameters based on the selected rate model.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (Event): The event that triggers the update.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_optimization_grids_and_combobox</span><span class="p">()</span>
        <span class="c1"># Clear formLayout</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_coupling_law</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_coupling_law</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_coupling_law</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># Get parameters for the selected model</span>
        <span class="n">coupling_law_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_coupling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span><span class="p">)</span>

        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">,</span> <span class="s1">&#39;kc&#39;</span><span class="p">,</span> <span class="s1">&#39;kv&#39;</span><span class="p">,</span> <span class="s1">&#39;experimental_parameters&#39;</span><span class="p">,</span> <span class="s1">&#39;extent_at_gel&#39;</span><span class="p">,</span> <span class="s1">&#39;optional_parameters&#39;</span><span class="p">]</span>
        
        <span class="c1"># Dictionnary to store the graphical entities for the formLayout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">coupling_law_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Adding the parameters to optimize to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_to_optimize</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_coupling_law</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">parameter</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="n">line_edit</span><span class="p">)</span></div>


        
        
<div class="viewcode-block" id="MainWindow.update_tg_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_tg_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_tg_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the entry boxes for rate parameters based on the selected rate model.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (Event): The event that triggers the update.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_optimization_grids_and_combobox</span><span class="p">()</span>
        <span class="c1"># Clear formLayout</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_tg</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_tg</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_tg_law</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># Get parameters for the selected model</span>
        <span class="n">tg_law_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_tg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span><span class="p">)</span>

        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">,</span> <span class="s1">&#39;Tg&#39;</span><span class="p">]</span>
        
        <span class="c1"># Dictionnary to store the graphical entities for the formLayout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">tg_law_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Adding the parameters to optimize to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_to_optimize</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_tg</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">parameter</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="n">line_edit</span><span class="p">)</span></div>

        

<div class="viewcode-block" id="MainWindow.clear_models_and_parameters_forms_and_combobox">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_models_and_parameters_forms_and_combobox">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_models_and_parameters_forms_and_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear all formLayouts and reset comboboxes and dictionaries storing line edits and parameters.</span>
<span class="sd">        </span>
<span class="sd">        Clears the rate, vitrification, coupling law, and tg formLayouts from all their widgets.</span>
<span class="sd">        Resets corresponding comboboxes and lists storing experimental parameters and parameters to optimize.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        - None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Clear the rate formLayout from all its widgets</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_rate</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_rate</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="c1"># Reset the coupling law combobox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="c1"># Clear the vitrification formLayout from all its widgets</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_vitrification</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_vitrification</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="c1"># Reset the vitrification model combobox        </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_vitrification_model</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="c1"># Clear the coupling formLayout from all its widgets</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_coupling_law</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_coupling_law</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="c1"># Reset the coupling law combobox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_coupling_law</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="c1"># Clear the tg formLayout from all its widgets</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_tg</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">formLayout_tg</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="c1"># Reset the tg law combobox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_tg_law</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># Lists to store the experimental parameters and parameters to optimize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_to_optimize</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></div>

        
        
<div class="viewcode-block" id="MainWindow.autofill_models_parameters">
<a class="viewcode-back" href="../modules.html#main.MainWindow.autofill_models_parameters">[docs]</a>
    <span class="k">def</span> <span class="nf">autofill_models_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Autofill parameters in line edits for rate, vitrification, and coupling law models.</span>
<span class="sd">    </span>
<span class="sd">        Parameters:</span>
<span class="sd">        - self: The object instance.</span>
<span class="sd">    </span>
<span class="sd">        Returns:</span>
<span class="sd">        - None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="k">for</span> <span class="nb">dict</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">line_edit</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;Ad&quot;</span><span class="p">]:</span>
                        <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1e8&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;Ea&quot;</span><span class="p">,</span> <span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="s2">&quot;E2&quot;</span><span class="p">]:</span>
                        <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;50000&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">]:</span>
                        <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>                        
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">,</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="s2">&quot;C2&quot;</span><span class="p">]:</span>
                        <span class="n">line_edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;50&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot; An error occurred:</span><span class="se">\n</span><span class="s2"> The parameter </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> does&#39;nt have a default value.</span><span class="se">\n</span><span class="s2"> Please modify the &#39;autofill_parameters&#39; function in GUI.py.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>   </div>

    
<div class="viewcode-block" id="MainWindow.update_global_optimization_gridLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_global_optimization_gridLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_global_optimization_gridLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the global optimization grid layout based on selected optimization method.</span>
<span class="sd">    </span>
<span class="sd">        Retrieves parameters for the selected optimization method and creates corresponding input widgets</span>
<span class="sd">        in the grid layout for global optimization.</span>
<span class="sd">    </span>
<span class="sd">        Parameters:</span>
<span class="sd">        - self: The object instance.</span>
<span class="sd">    </span>
<span class="sd">        Returns:</span>
<span class="sd">        - None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Please, select a rate law&#39;</span><span class="p">)</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="k">return</span>
    
            <span class="c1"># Clear parameter entry boxes</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
    
            <span class="c1"># Get the selected optimization method from the combobox</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
    
            <span class="c1"># Get dictionary of parameters for the selected optimization method</span>
            <span class="n">global_optimization_method_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="p">)</span>
    
            <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
    
            <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">global_optimization_method_parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_type</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span> <span class="s2">&quot;No&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;vectorized&quot;</span><span class="p">:</span>
                        <span class="n">combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;jac&quot;</span><span class="p">:</span>
                        <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="s2">&quot;2-point&quot;</span><span class="p">,</span> <span class="s2">&quot;3-point&quot;</span><span class="p">,</span> <span class="s2">&quot;cs&quot;</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Unsupported Key&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;The key &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; is not handled by the program.&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
                    <span class="c1"># Create a first line to indicate min and max values</span>
                    <span class="n">min_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;min&quot;</span><span class="p">)</span>
                    <span class="n">max_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">min_label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">max_label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="c1"># Merge dict to get all the parameters to optimize</span>
                    <span class="n">parameters_to_optimize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span>
                    <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                        <span class="n">line_edit_min</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                        <span class="n">line_edit_max</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit_min</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit_max</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit_min</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit_max</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;init&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;latinhypercube&quot;</span><span class="p">,</span> <span class="s2">&quot;sobol&quot;</span><span class="p">,</span> <span class="s2">&quot;halton&quot;</span><span class="p">,</span> <span class="s2">&quot;random&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;updating&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;immediate&quot;</span><span class="p">,</span> <span class="s2">&quot;deferred&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sampling_method&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;simplicial&quot;</span><span class="p">,</span> <span class="s2">&quot;halton&quot;</span><span class="p">,</span> <span class="s2">&quot;sobol&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;strategy&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;best1bin&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;best1exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;rand1bin&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;rand1exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;rand2bin&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;rand2exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;randtobest1bin&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;randtobest1exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;currenttobest1bin&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;currenttobest1exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;best2exp&quot;</span><span class="p">,</span>
                                       <span class="s2">&quot;best2bin&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.update_local_optimization_gridLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_local_optimization_gridLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_local_optimization_gridLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the local optimization grid layout based on selected optimization method.</span>
<span class="sd">    </span>
<span class="sd">        Retrieves parameters for the selected optimization method and creates corresponding input widgets</span>
<span class="sd">        in the grid layout for local optimization.</span>
<span class="sd">    </span>
<span class="sd">        Parameters:</span>
<span class="sd">        - self: The object instance.</span>
<span class="sd">    </span>
<span class="sd">        Returns:</span>
<span class="sd">        - None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_rate_model</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, select a rate law&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span>
            
            <span class="c1"># Clear parameter entry boxes</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
            
            <span class="c1"># Get the selected optimization method from the combobox</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            
            <span class="c1"># Get dictionary of parameters for the selected optimization method</span>
            <span class="n">local_optimization_method_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
            
            <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">local_optimization_method_parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_type</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span> <span class="s2">&quot;No&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;vectorized&quot;</span><span class="p">:</span>
                        <span class="n">combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;jac&quot;</span><span class="p">:</span>
                        <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="s2">&quot;2-point&quot;</span><span class="p">,</span> <span class="s2">&quot;3-point&quot;</span><span class="p">,</span> <span class="s2">&quot;cs&quot;</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Unsupported Key&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;The key &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; is not handled by the program.&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
                    <span class="c1"># Create a first line to indicate min and max values</span>
                    <span class="n">min_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;min&quot;</span><span class="p">)</span>
                    <span class="n">max_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">min_label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">max_label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="c1"># Merge dict to get all the parameters to optimize</span>
                    <span class="n">parameters_to_optimize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span>
                    <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                        <span class="n">line_edit_min</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                        <span class="n">line_edit_max</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit_min</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit_max</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit_min</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit_max</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                        <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;init&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;latinhypercube&quot;</span><span class="p">,</span> <span class="s2">&quot;sobol&quot;</span><span class="p">,</span> <span class="s2">&quot;halton&quot;</span><span class="p">,</span> <span class="s2">&quot;random&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;updating&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;immediate&quot;</span><span class="p">,</span> <span class="s2">&quot;deferred&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sampling_method&quot;</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="n">combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                    <span class="n">combobox</span><span class="o">.</span><span class="n">addItems</span><span class="p">([</span><span class="s2">&quot;simplicial&quot;</span><span class="p">,</span> <span class="s2">&quot;halton&quot;</span><span class="p">,</span> <span class="s2">&quot;sobol&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">combobox</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">combobox</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">row</span> <span class="o">+=</span> <span class="mi">1</span>
            
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="MainWindow.update_cost_functions_formLayout">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_cost_functions_formLayout">[docs]</a>
    <span class="k">def</span> <span class="nf">update_cost_functions_formLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, select a rate law&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># Clear parameter entry boxes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        
        <span class="c1"># Get the selected optimization method from the combobox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        
        <span class="c1"># Get dictionary of parameters for the selected optimization method</span>
        <span class="n">cost_function_parameters</span> <span class="o">=</span> <span class="n">get_parameters_for_rss</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span><span class="p">)</span>
        
        <span class="c1"># Lists to store the experimental parameters and input parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_input</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># List of values to match against</span>
        <span class="n">experimental_param_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">,</span> <span class="s1">&#39;Tg&#39;</span><span class="p">]</span>
        
        
        <span class="c1"># Dictionnary to store the graphical entities for the formLayout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>            
        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">cost_function_parameters</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">experimental_param_values</span><span class="p">:</span>
                <span class="c1"># Adding the experimental parameters to the list</span>
                <span class="k">if</span> <span class="n">parameter</span> <span class="o">!=</span> <span class="s2">&quot;optional_parameters&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_experimental</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_input</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="n">line_edit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_cost_function</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">line_edit</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span><span class="n">row</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">line_edit</span><span class="p">,</span><span class="n">row</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span></div>

    
<div class="viewcode-block" id="MainWindow.clear_optimization_grids_and_combobox">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_optimization_grids_and_combobox">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_optimization_grids_and_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Clear parameter entry boxes    </span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_global_optimization</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_global_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="c1"># Clear parameter entry boxes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_local_optimization</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_local_optimization_methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        
        <span class="c1"># Clear parameter entry boxes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">count</span><span class="p">())):</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gridLayout_cost_functions</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_experimental</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_input</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboBox_cost_functions</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></div>

        

<div class="viewcode-block" id="MainWindow.autofill_optimization_parameters">
<a class="viewcode-back" href="../modules.html#main.MainWindow.autofill_optimization_parameters">[docs]</a>
    <span class="k">def</span> <span class="nf">autofill_optimization_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span> <span class="p">:</span>
            <span class="k">for</span> <span class="nb">dict</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="nb">object</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;minA&quot;</span><span class="p">,</span> <span class="s2">&quot;minA1&quot;</span><span class="p">,</span> <span class="s2">&quot;minA2&quot;</span><span class="p">,</span> <span class="s2">&quot;minAd&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxA&quot;</span><span class="p">,</span> <span class="s2">&quot;maxA1&quot;</span><span class="p">,</span> <span class="s2">&quot;maxA2&quot;</span><span class="p">,</span> <span class="s2">&quot;maxAd&quot;</span><span class="p">]:</span>
                       <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1e20&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;minE&quot;</span><span class="p">,</span> <span class="s2">&quot;minEa&quot;</span><span class="p">,</span> <span class="s2">&quot;minE1&quot;</span><span class="p">,</span> <span class="s2">&quot;minE2&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1000&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxE&quot;</span><span class="p">,</span> <span class="s2">&quot;maxEa&quot;</span><span class="p">,</span> <span class="s2">&quot;maxE1&quot;</span><span class="p">,</span> <span class="s2">&quot;maxE2&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;350000&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;minm&quot;</span><span class="p">,</span> <span class="s2">&quot;minn&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0.1&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxm&quot;</span><span class="p">,</span> <span class="s2">&quot;maxn&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;20&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;minC&quot;</span><span class="p">,</span><span class="s2">&quot;minC1&quot;</span><span class="p">,</span> <span class="s2">&quot;minC2&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxC&quot;</span><span class="p">,</span><span class="s2">&quot;maxC1&quot;</span><span class="p">,</span> <span class="s2">&quot;maxC2&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;350&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;disp&quot;</span><span class="p">,</span> <span class="s2">&quot;return_all&quot;</span><span class="p">,</span> <span class="s2">&quot;adaptive&quot;</span><span class="p">,</span><span class="s2">&quot;polish&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;Yes&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;vectorized&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;No&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;sampling_method&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;simplicial&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;init&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;latinhypercube&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;updating&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;strategy&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;best1bin&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxiter&quot;</span><span class="p">,</span><span class="s2">&quot;iters&quot;</span><span class="p">,</span><span class="s2">&quot;niters&quot;</span><span class="p">,</span><span class="s2">&quot;niter&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;120&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;500&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;workers&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;maxfev&quot;</span><span class="p">,</span> <span class="s2">&quot;maxfun&quot;</span><span class="p">,</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="s2">&quot;eps&quot;</span><span class="p">,</span> <span class="s2">&quot;maxls&quot;</span><span class="p">,</span> <span class="s2">&quot;iprint&quot;</span><span class="p">,</span> <span class="s2">&quot;maxcor&quot;</span><span class="p">,</span><span class="s2">&quot;T&quot;</span><span class="p">,</span><span class="s2">&quot;stepsize&quot;</span><span class="p">,</span><span class="s2">&quot;interval&quot;</span><span class="p">,</span><span class="s2">&quot;niter_success&quot;</span><span class="p">,</span><span class="s2">&quot;target_accept_rate&quot;</span><span class="p">,</span><span class="s2">&quot;stepwise_factor&quot;</span><span class="p">,</span><span class="s2">&quot;popsize&quot;</span><span class="p">,</span><span class="s2">&quot;mutation&quot;</span><span class="p">,</span><span class="s2">&quot;recombination&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;tol&quot;</span><span class="p">,</span><span class="s2">&quot;atol&quot;</span><span class="p">,</span><span class="s2">&quot;xatol&quot;</span><span class="p">,</span> <span class="s2">&quot;xrtol&quot;</span><span class="p">,</span> <span class="s2">&quot;xtol&quot;</span><span class="p">,</span> <span class="s2">&quot;fatol&quot;</span><span class="p">,</span> <span class="s2">&quot;ftol&quot;</span><span class="p">,</span> <span class="s2">&quot;gtol&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;1e-15&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;extent_limit&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0.707&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;amplification_factor&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;10&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;fraction_to_amplify&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0.5&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;jac&quot;</span><span class="p">]:</span>
                        <span class="nb">object</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;bounds&quot;</span><span class="p">]:</span>
                        <span class="k">pass</span>       
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot; An error occurred:</span><span class="se">\n</span><span class="s2"> The parameter </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> does&#39;nt have a default value.</span><span class="se">\n</span><span class="s2"> Please modify the &#39;autofill_parameters&#39; function in main.py.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.get_global_optimization_args_dict">
<a class="viewcode-back" href="../modules.html#main.MainWindow.get_global_optimization_args_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">get_global_optimization_args_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">selected_optimization_method</span><span class="p">):</span>
        <span class="n">reference_dict</span> <span class="o">=</span> <span class="n">get_parameters_for_optimization</span><span class="p">(</span><span class="n">selected_optimization_method</span><span class="p">)</span>
        <span class="n">to_return_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">reference_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_type</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
                <span class="n">optional</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                        <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                        <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> 
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Yes&quot;</span><span class="p">:</span>
                        <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;No&quot;</span><span class="p">:</span>
                        <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; is a boolean and should be &#39;Yes&#39; or &#39;No&#39; but its value is currently &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>                     
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
                    <span class="c1"># Merge dict to get all the parameters to optimize</span>
                    <span class="n">parameters_to_optimize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span>
                    <span class="n">bounds</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">min_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                            <span class="n">max_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">min_param</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">max_param</span> <span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameters &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; are mandatory for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">min_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">min_param</span><span class="p">)</span>
                                <span class="n">max_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">max_param</span><span class="p">)</span>
                            <span class="n">bounds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">min_param</span><span class="p">,</span> <span class="n">max_param</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">min_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                            <span class="n">max_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                            <span class="n">bounds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">min_param</span><span class="p">,</span> <span class="n">max_param</span><span class="p">))</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;init&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;updating&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>               
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sampling_method&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;strategy&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">to_return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_global_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Handle other exceptions with a generic error message</span>
                    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span> <span class="sa">f</span><span class="s2">&quot; An error occurred:</span><span class="se">\n</span><span class="s2"> The parameter </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> is not handled.</span><span class="se">\n</span><span class="s2"> Please modify the &#39;get_global_optimization_args_dict&#39; function in main.py.&quot;</span><span class="p">)</span>
                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">to_return_dict</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>   </div>

    
<div class="viewcode-block" id="MainWindow.get_local_optimization_args_dict">
<a class="viewcode-back" href="../modules.html#main.MainWindow.get_local_optimization_args_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">get_local_optimization_args_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">selected_optimization_method</span><span class="p">):</span>
        <span class="n">reference_dict</span> <span class="o">=</span> <span class="n">get_parameters_for_optimization</span><span class="p">(</span><span class="n">selected_optimization_method</span><span class="p">)</span>
        <span class="n">options_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value_info</span> <span class="ow">in</span> <span class="n">reference_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value_type</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
                <span class="n">optional</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s2">&quot;optional&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                        <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                        <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Yes&quot;</span><span class="p">:</span>
                        <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;No&quot;</span><span class="p">:</span>
                        <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; is a boolean and should be &#39;Yes&#39; or &#39;No&#39; but its value is currently &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>               
                    <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sequence&quot;</span><span class="p">:</span>
                    <span class="c1"># Merge dict to get all the parameters to optimize</span>
                    <span class="n">parameters_to_optimize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span>
                    <span class="n">bounds</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">min_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                            <span class="n">max_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">min_param</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">max_param</span> <span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameters &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; are mandatory for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">min_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">min_param</span><span class="p">)</span>
                                <span class="n">max_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">max_param</span><span class="p">)</span>
                            <span class="n">bounds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">min_param</span><span class="p">,</span> <span class="n">max_param</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">parameters_to_optimize</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="n">min_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;min&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                            <span class="n">max_param</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="s2">&quot;max&quot;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                            <span class="n">bounds</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">min_param</span><span class="p">,</span> <span class="n">max_param</span><span class="p">))</span>
                    <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;init&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>                    
                    <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;updating&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>               
                <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;sampling_method&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The parameter &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; must be provided for optimization method &#39;</span><span class="si">{</span><span class="n">selected_optimization_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                    <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Handle other exceptions with a generic error message</span>
                    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span> <span class="sa">f</span><span class="s2">&quot; An error occurred:</span><span class="se">\n</span><span class="s2"> The parameter </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> is not handled.</span><span class="se">\n</span><span class="s2"> Please modify the &#39;get_local_optimization_args_dict&#39; function in main.py.&quot;</span><span class="p">)</span>
                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                    
            <span class="n">main_args_dict_for_local_optimization</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;jac&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;hess&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;hessp&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;constraints&quot;</span><span class="p">:</span> <span class="p">(),</span> <span class="s2">&quot;tol&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
            <span class="n">keys_to_remove_from_option_dict</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">options_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">main_args_dict_for_local_optimization</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">main_args_dict_for_local_optimization</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                    <span class="n">keys_to_remove_from_option_dict</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_remove_from_option_dict</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">options_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">main_args_dict_for_local_optimization</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">options_dict</span>  
            <span class="k">return</span> <span class="n">main_args_dict_for_local_optimization</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>   </div>


<div class="viewcode-block" id="MainWindow.launch_optimization">
<a class="viewcode-back" href="../modules.html#main.MainWindow.launch_optimization">[docs]</a>
    <span class="k">def</span> <span class="nf">launch_optimization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Launch the optimization process.</span>
<span class="sd">    </span>
<span class="sd">        This function checks the necessary conditions for optimization, assigns necessary parameters,</span>
<span class="sd">        and starts the optimization process in a separate thread.</span>
<span class="sd">    </span>
<span class="sd">        Parameters:</span>
<span class="sd">        - self: The object instance.</span>
<span class="sd">    </span>
<span class="sd">        Returns:</span>
<span class="sd">        - None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># =============================================================================</span>
            <span class="c1"># Check before launching optimization            </span>
            <span class="c1"># =============================================================================</span>
            <span class="c1"># Check that data was successfully extracted</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;successful_extraction&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you extracted the data successfully.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># Check that there&#39;s a model to optimize</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you at least selected a rate model or a vitrification model to optimize.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># Check that there&#39;s a coupling law if both rate and vitrification models are selected</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you selected the coupling law between rate model and vitrification model&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="c1"># Check that Tg is selected if necessary</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot;Tg&quot;</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">for</span> <span class="n">lst</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span><span class="p">]):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;The current optimization requires the computation of the Tg. </span><span class="se">\n</span><span class="s2">Please select a Tg model in the &#39;Models and parameters section.&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="c1"># Check that an optimization is selected</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you at least selected a global or local optimization method.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># Check that a cost function is selected</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you selected a cost function&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># =============================================================================</span>
            <span class="c1"># Function and args attribution            </span>
            <span class="c1"># =============================================================================</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span class="k">for</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, indicate an initial guess for the rate law.</span><span class="se">\n</span><span class="s2">(In the &#39;Models and parameters&#39; section of the &#39;Optimiztion&#39; dock)&quot;</span><span class="p">)</span>
                    <span class="k">return</span>                    
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span> <span class="o">=</span> <span class="mi">0</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span class="k">for</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, indicate an initial guess for the vitrification law.</span><span class="se">\n</span><span class="s2">(In the &#39;Models and parameters&#39; section of the &#39;Optimiztion&#39; dock)&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span class="k">for</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, indicate an initial guess for the coupling law.</span><span class="se">\n</span><span class="s2">(In the &#39;Models and parameters&#39; section of the &#39;Optimiztion&#39; dock)&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span class="k">for</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="o">.</span><span class="n">values</span><span class="p">()]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span> <span class="o">=</span> <span class="kc">None</span>            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">optimize</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_global_optimization_args_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="p">)</span>
                
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">optimize</span><span class="p">,</span> <span class="s1">&#39;minimize&#39;</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_local_optimization_args_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">opt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_experimental</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span class="k">for</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span> <span class="o">=</span> <span class="kc">None</span>
            
            <span class="c1"># Check if the maximum number of iterations is an argument of the selected optimization methods</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
            <span class="n">keys_to_check_for_iterations</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;maxiter&quot;</span><span class="p">,</span><span class="s2">&quot;niter&quot;</span><span class="p">,</span><span class="s2">&quot;n&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_check_for_iterations</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_check_for_iterations</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>

            
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">textEdit_output_of_optimization</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            
            <span class="c1"># =============================================================================</span>
            <span class="c1"># Start a thread to perform optimization without blocking the GUI         </span>
            <span class="c1"># =============================================================================</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span> <span class="o">=</span> <span class="n">OptimizationThread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span> 
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="p">,</span>                                                          
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span>
                                                          <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_launch_optimization</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">update_progress_bar_signal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_progress_bar</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">update_graph_signal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_graph</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">end_of_optimization</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_GUI_at_end_of_optimization</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">error_in_optimization_thread</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_error_in_optimization_thread</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span> 
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span></div>

            
<div class="viewcode-block" id="MainWindow.update_progress_bar">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_progress_bar">[docs]</a>
    <span class="k">def</span> <span class="nf">update_progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">progress</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the progress bar with the given progress value.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        self : object</span>
<span class="sd">            The object instance.</span>
<span class="sd">        progress : int</span>
<span class="sd">            The value indicating the progress of the optimization process.</span>
<span class="sd">    </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="MainWindow.update_graph">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_graph">[docs]</a>
    <span class="k">def</span> <span class="nf">update_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">increment</span><span class="p">,</span><span class="n">estimated_remaining_seconds</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the graph and output of the optimization process.</span>
<span class="sd">    </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        self : object</span>
<span class="sd">            The object instance.</span>
<span class="sd">        increment : int</span>
<span class="sd">            The current increment of the optimization process.</span>
<span class="sd">        estimated_remaining_seconds : int</span>
<span class="sd">            The estimated remaining time for the optimization process.</span>
<span class="sd">        x : Any</span>
<span class="sd">            Current optimization parameters.</span>
<span class="sd">        *args : tuple</span>
<span class="sd">            Additional positional arguments.</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments.</span>
<span class="sd">    </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">increment_info</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Increment: </span><span class="si">{</span><span class="n">increment</span><span class="si">}</span><span class="se">\n</span><span class="s2">Current x: </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">increment_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">])</span>
        <span class="n">increment_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">increment_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">increment_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">textEdit_output_of_optimization</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="n">increment_info</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">textEdit_output_of_optimization</span><span class="o">.</span><span class="n">moveCursor</span><span class="p">(</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
        
        <span class="c1"># Convert remaining seconds to hours, minutes, and seconds</span>
        <span class="n">remaining_hours</span><span class="p">,</span> <span class="n">remaining_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">estimated_remaining_seconds</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>
        <span class="n">remaining_minutes</span><span class="p">,</span> <span class="n">remaining_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">remaining_seconds</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
        <span class="n">remaining_time_str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:02}</span><span class="s2">hours:</span><span class="si">{:02}</span><span class="s2">min:</span><span class="si">{:02}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">remaining_hours</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">remaining_minutes</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">remaining_seconds</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">label_remaing_time</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Remaining time: </span><span class="si">{</span><span class="n">remaining_time_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="n">rate_opti</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">)</span>
        
        <span class="c1"># The result of the &quot;opt.model&quot; function contained in &quot;rate_opti&quot; are an aggregation of the rates contained in all the files.</span>
        <span class="c1"># Since we want to display a curve for each, we split the data thanks to &quot;range_of_plot&quot;</span>
        <span class="n">range_of_plot</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Optimization at increment:</span><span class="si">{</span><span class="n">increment</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Rate (s-1)&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">):</span>
            <span class="c1"># Extend the plot range according to the number of experimental points</span>
            <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="c1"># Plot the experimental rate with respect to time</span>
            <span class="n">curve1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Experimental rate for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
            <span class="c1"># Get the color of curve1 so that experimental and optimized rate have the same color</span>
            <span class="n">color_of_first_curve</span> <span class="o">=</span> <span class="n">curve1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
            <span class="c1"># Plot the optimized rate with respect to time</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">rate_opti</span><span class="p">[</span><span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Model rate for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_of_first_curve</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="c1"># Modify the initial range of plot so that it corresponds to the initial index of next file data in &quot;rate_opti&quot; </span>
            <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_optimization</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tabWidget_visualization</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MainWindow.update_GUI_at_end_of_optimization">
<a class="viewcode-back" href="../modules.html#main.MainWindow.update_GUI_at_end_of_optimization">[docs]</a>
    <span class="k">def</span> <span class="nf">update_GUI_at_end_of_optimization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">results</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_launch_optimization</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">progressBar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">label_remaing_time</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Remaining time: (No optimization runnning)&quot;</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="n">results</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;final x used for plot:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="n">rate_opti</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">)</span>
            
            <span class="n">dif</span> <span class="o">=</span> <span class="n">rate_opti</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mean_rss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">dif</span><span class="p">,</span> <span class="n">dif</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">dif</span><span class="p">)</span>
            
            <span class="c1"># Update output textEdit widget with</span>
            <span class="n">summary_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_summary_info</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">textEdit_output_of_optimization</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="n">summary_info</span><span class="p">)</span>
            
            <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S&quot;</span><span class="p">)</span>
            <span class="n">src_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
            <span class="n">results_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src_dir</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;results&quot;</span><span class="p">)</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">current_date</span><span class="si">}</span><span class="s2">_results_of_optimization.txt&quot;</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">results_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            
            <span class="c1"># Create the &#39;results&#39; folder if it doesn&#39;t exist</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">results_dir</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">results_dir</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">summary_info</span><span class="p">)</span>
            
            <span class="c1"># The result of the &quot;opt.model&quot; function contained in &quot;rate_opti&quot; are an aggregation of the rates contained in all the files.</span>
            <span class="c1"># Since we want to display a curve for each, we split the data thanks to &quot;range_of_plot&quot;</span>
            <span class="n">range_of_plot</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Final result of optimization&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Rate (s-1)&quot;</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">):</span>
                <span class="c1"># Extend the plot range according to the number of experimental points</span>
                <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="c1"># Plot the experimental rate with respect to time</span>
                <span class="n">curve1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Experimental rate for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
                <span class="c1"># Get the color of curve1 so that experimental and optimized rate have the same color</span>
                <span class="n">color_of_first_curve</span> <span class="o">=</span> <span class="n">curve1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
                <span class="c1"># Plot the optimized rate with respect to time</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">rate_opti</span><span class="p">[</span><span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">range_of_plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Model rate for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_of_first_curve</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
                <span class="c1"># Modify the initial range of plot so that it corresponds to the initial index of next file data in &quot;rate_opti&quot; </span>
                <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_of_plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
    
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_optimization</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_optimization</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tabWidget_visualization</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

            
<div class="viewcode-block" id="MainWindow.display_error_in_optimization_thread">
<a class="viewcode-back" href="../modules.html#main.MainWindow.display_error_in_optimization_thread">[docs]</a>
    <span class="k">def</span> <span class="nf">display_error_in_optimization_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">error_message</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display the error that happened in the optimization thread.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        error_message : TypeError</span>
<span class="sd">           Error message returned by the optimization thread.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error detected in optimization thread&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optimization_thread</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
        <span class="c1"># Handle other exceptions with a generic error message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pushButton_launch_optimization</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span> </div>

            
                
<div class="viewcode-block" id="MainWindow.get_associated_experimental_parameters">
<a class="viewcode-back" href="../modules.html#main.MainWindow.get_associated_experimental_parameters">[docs]</a>
    <span class="k">def</span> <span class="nf">get_associated_experimental_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels_of_experimental_arguments</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the associated experimental parameters based on provided labels.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        labels_of_experimental_arguments : list</span>
<span class="sd">            List of labels for experimental parameters.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            Tuple of experimental parameter values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check that data was extracted successfully</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_extraction</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please, make sure you extracted the data successfully.&quot;</span><span class="p">)</span>
            <span class="k">return</span>    
        
        <span class="n">experimental_args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels_of_experimental_arguments</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;T&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperature</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_time</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;rate&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;extent&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_extent</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;time_lists&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;temperature_lists&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperatures</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;rate_lists&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">label</span> <span class="o">==</span> <span class="s2">&quot;conv_lists&quot;</span><span class="p">:</span>
                <span class="n">experimental_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_extents</span><span class="p">)</span>
    
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">experimental_args</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MainWindow.get_summary_info">
<a class="viewcode-back" href="../modules.html#main.MainWindow.get_summary_info">[docs]</a>
    <span class="k">def</span> <span class="nf">get_summary_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">summary_info</span> <span class="o">=</span> <span class="s1">&#39;================ Files ================</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Files used for optimization:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_file_paths</span><span class="p">])</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Rate section</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Rate ================</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Rate law: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Experimental parameters for rate computation: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rate_parameters_experimental</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Rate parameters initial guess:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;- None: None</span><span class="se">\n</span><span class="s1">&#39;</span>   
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Vitrification section</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Vitrification ================</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Vitrification law: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Experimental parameters for vitrification computation: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">vitrification_parameters_experimental</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Vitrification parameters initial guess:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="p">:</span>    
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;- None: None</span><span class="se">\n</span><span class="s1">&#39;</span>  
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Coupling section</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Coupling ================</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Coupling law: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Experimental parameters for coupling law: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coupling_law_parameters_experimental</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Coupling parameters initial guess:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;- None: None</span><span class="se">\n</span><span class="s1">&#39;</span>   
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Tg section</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Tg ================</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Tg law: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_tg_law</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Experimental parameters for Tg computation: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tg_law_parameters_experimental</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Tg parameters:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_tg_law</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;- None: None</span><span class="se">\n</span><span class="s1">&#39;</span>  
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Optimization section</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Optimization ================</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Global optimization method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Parameters for global optimization:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span><span class="p">:</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Local optimization method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Parameters for local optimization:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
    
        <span class="c1"># Cost function section</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Cost Function ================</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Cost function: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_cost_function</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Experimental parameters for cost function computation: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_parameters_experimental</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Cost function parameters: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span><span class="p">:</span>    
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">line_edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">line_edit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries_dict_cost_function</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
    
        <span class="c1"># Results section</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;results&#39;</span><span class="p">):</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">================ Results ================</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_rate</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Rate optimization results:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_rate_model</span><span class="p">)])</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_vitrification</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Vitrification optimization results:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_vitrification_model</span><span class="p">)])</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_coupling_law</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Coupling optimization results:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_edit_dict_coupling_law</span><span class="p">)])</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Final cost function value: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">fun</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean_rss</span><span class="p">:</span>
                <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Final mean RSS value: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mean_rss</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="s2">&quot;Scipy final output:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">summary_info</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        
        <span class="c1"># Data section</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="s1">&#39;================ Data used for optimization ================</span><span class="se">\n</span><span class="s1">&#39;</span>
        

        <span class="n">data_rows</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="s2">&quot;Temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Rate&quot;</span><span class="p">,</span> <span class="s2">&quot;Extent&quot;</span><span class="p">]</span>
        
        <span class="c1"># Construct the header row</span>
        <span class="n">header_row</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">header</span><span class="si">}{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">))</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span> <span class="p">])</span>
        <span class="n">data_rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">header_row</span><span class="p">)</span>
        
        <span class="c1"># Combine experimental data into a single NumPy array</span>
        <span class="n">experimental_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_times</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">experimental_temperatures</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">experimental_extents</span><span class="p">])</span>
        
        <span class="c1"># Transpose the data</span>
        <span class="n">experimental_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">experimental_data</span><span class="p">)</span>
        
        <span class="c1"># Construct the data rows</span>
        <span class="k">for</span> <span class="n">row_values</span> <span class="ow">in</span> <span class="n">experimental_data</span><span class="p">:</span>
            <span class="n">concatenated_row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">row_values</span><span class="p">)</span>
            <span class="n">data_rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">concatenated_row</span><span class="p">)))</span>
        
        <span class="n">data_section</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_rows</span><span class="p">)</span>
        <span class="n">summary_info</span> <span class="o">+=</span> <span class="n">data_section</span>
        
        <span class="k">return</span> <span class="n">summary_info</span></div>


<div class="viewcode-block" id="MainWindow.load_results_files">
<a class="viewcode-back" href="../modules.html#main.MainWindow.load_results_files">[docs]</a>
    <span class="k">def</span> <span class="nf">load_results_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a file dialog to browse and select multiple results files. Update the results file paths list widget.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Open a file dialog to select files</span>
            <span class="n">results_file_paths</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileNames</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="s2">&quot;Select Files&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Text Files (*.txt);;All Files (*)&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">results_file_paths</span><span class="p">:</span>
                <span class="c1"># Clear the data extraction plots in case previous files were extracted</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clear_results_viewer_plots</span><span class="p">()</span>
                
                <span class="c1"># Update listView background in white to indicate no extraction was performed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_result_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: white&quot;</span><span class="p">)</span>
                
                <span class="c1"># Create a string list model to hold the filenames</span>
                <span class="n">string_list_model</span> <span class="o">=</span> <span class="n">QStringListModel</span><span class="p">()</span>
    
                <span class="c1"># Populate the model with shortened filenames</span>
                <span class="n">string_list_model</span><span class="o">.</span><span class="n">setStringList</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">results_file_paths</span><span class="p">])</span>
                
                <span class="c1"># Save the shortened filenames</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_results_file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">results_file_paths</span><span class="p">]</span>
    
                <span class="c1"># Set the model for the list view</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_result_files</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">string_list_model</span><span class="p">)</span>
    
                <span class="c1"># Store the full file paths in an instance variable</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_results_file_paths</span> <span class="o">=</span> <span class="n">results_file_paths</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.clear_results_files">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_results_files">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_results_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear all the files in the listView_files object.&quot;&quot;&quot;</span>
        <span class="c1"># Create an empty string list model to empty the listView</span>
        <span class="n">string_list_model</span> <span class="o">=</span> <span class="n">QStringListModel</span><span class="p">()</span>
        <span class="c1"># Set the model for the list view with the empty list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_result_files</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">string_list_model</span><span class="p">)</span>
        <span class="c1"># Empty the full file paths list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_results_file_paths</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Empty the shortened file paths list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_shortened_results_file_paths</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Reset the bool to indicate successful extraction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">successful_results_extraction</span> <span class="o">=</span> <span class="kc">None</span>
        
        <span class="c1"># Update listView background in white to indicate no extraction was performed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_result_files</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: white&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_results_viewer_plots</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="MainWindow.display_selected_result_file">
<a class="viewcode-back" href="../modules.html#main.MainWindow.display_selected_result_file">[docs]</a>
    <span class="k">def</span> <span class="nf">display_selected_result_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract data from selected files and update GUI elements based on extraction results.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the selected file paths</span>
            <span class="n">selected_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">listView_result_files</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">selected_index</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">selected_index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected_result_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_full_results_file_paths</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;No File Selected&quot;</span><span class="p">,</span> <span class="s2">&quot;Please select a result file before extracting.&quot;</span><span class="p">)</span>
                <span class="k">return</span>
    
            
            <span class="c1"># Launch the extraction process with provided parameters</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_result_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">result_summary_info</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">textEdit_result_file_content</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">result_summary_info</span><span class="p">)</span>
                
                <span class="c1"># Define variables to store the extracted information</span>
                <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">rate_info</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">vitrification_info</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">coupling_info</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">tg_info</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">results_experimental_times</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">results_experimental_temperatures</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">results_experimental_extents</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">results_experimental_rates</span> <span class="o">=</span> <span class="p">[]</span>
                
                <span class="c1"># Split the summary info by sections</span>
                <span class="n">sections</span> <span class="o">=</span> <span class="n">result_summary_info</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;================ &#39;</span><span class="p">)</span>
                
                <span class="n">rate_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;None&#39;</span><span class="p">}}</span>   
                <span class="n">vitrification_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;None&#39;</span><span class="p">}}</span> 
                <span class="n">coupling_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;None&#39;</span><span class="p">}}</span> 
                <span class="n">tg_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span><span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;None&#39;</span><span class="p">}}</span> 
                
                <span class="c1"># Iterate over sections to extract information</span>
                <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
                    <span class="n">lines</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s2">&quot;Files ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
                    <span class="k">elif</span> <span class="s2">&quot;Rate ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">rate_info</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span><span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">):</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">4</span><span class="p">:]}</span>
                        <span class="p">}</span>
                    <span class="k">elif</span> <span class="s2">&quot;Vitrification ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">vitrification_info</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span><span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">):</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">4</span><span class="p">:]}</span>
                        <span class="p">}</span>
                    <span class="k">elif</span> <span class="s2">&quot;Coupling ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">coupling_info</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span><span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="s2">&quot;initial_guess&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">):</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">4</span><span class="p">:]}</span>
                        <span class="p">}</span>
                    <span class="k">elif</span> <span class="s2">&quot;Tg ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">tg_info</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;law&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span><span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;experimental_parameters&quot;</span><span class="p">:</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;- &#39;</span><span class="p">):</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">4</span><span class="p">:]}</span>
                        <span class="p">}</span>

                    <span class="k">elif</span> <span class="s2">&quot;Results ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;None&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rate_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">]:</span>
                            <span class="n">start_rate_index</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Rate optimization results:&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
                            <span class="n">end_rate_index</span> <span class="o">=</span> <span class="n">start_rate_index</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">rate_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">])</span>
                            <span class="n">rate_args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="n">start_rate_index</span><span class="p">:</span><span class="n">end_rate_index</span><span class="p">]]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rate_args</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">if</span> <span class="s1">&#39;None&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vitrification_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">]:</span>
                            <span class="n">start_vitrification_index</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Vitrification optimization results:&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
                            <span class="n">end_vitrification_index</span> <span class="o">=</span> <span class="n">start_vitrification_index</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">vitrification_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">])</span>
                            <span class="n">vitrification_args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="n">start_vitrification_index</span><span class="p">:</span><span class="n">end_vitrification_index</span><span class="p">]]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">vitrification_args</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">if</span> <span class="s1">&#39;None&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">coupling_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">]:</span>
                            <span class="n">start_coupling_index</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Coupling optimization results:&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
                            <span class="n">end_coupling_index</span> <span class="o">=</span> <span class="n">start_coupling_index</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">coupling_info</span><span class="p">[</span><span class="s2">&quot;initial_guess&quot;</span><span class="p">])</span>
                            <span class="n">coupling_args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="n">start_coupling_index</span><span class="p">:</span><span class="n">end_coupling_index</span><span class="p">]]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">coupling_args</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">if</span> <span class="s1">&#39;None&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tg_info</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]:</span>
                            <span class="n">tg_args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">tg_info</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">tg_args</span> <span class="o">=</span> <span class="kc">None</span>
                            
                       
                    <span class="k">elif</span> <span class="s2">&quot;Data used for optimization ==&quot;</span> <span class="ow">in</span> <span class="n">section</span><span class="p">:</span>
                        <span class="n">data_lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">if</span> <span class="n">line</span><span class="p">]</span>
                        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data_lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
                        
                        <span class="c1"># Determine the indices of columns to select</span>
                        <span class="n">total_number_of_columns</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        
                        <span class="n">time_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total_number_of_columns</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
                        <span class="n">results_experimental_times</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="n">time_indices</span><span class="p">]</span>
                        
                        <span class="n">temperature_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total_number_of_columns</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
                        <span class="n">results_experimental_temperatures</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="n">temperature_indices</span><span class="p">]</span>
                        
                        <span class="n">rate_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">total_number_of_columns</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
                        <span class="n">results_experimental_rates</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="n">rate_indices</span><span class="p">]</span>
                        
                        <span class="n">extent_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">total_number_of_columns</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
                        <span class="n">results_experimental_extents</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="n">extent_indices</span><span class="p">]</span>
                                
            <span class="c1"># Clear axes in the visualization widget</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            
            

                
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="n">extent</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">compute_extent_and_rate</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span>
                                                            <span class="n">results_experimental_temperatures</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span>
                                                            <span class="n">rate_law</span> <span class="o">=</span> <span class="n">rate_info</span><span class="p">[</span><span class="s2">&quot;law&quot;</span><span class="p">],</span>
                                                            <span class="n">rate_law_args</span><span class="o">=</span><span class="n">rate_args</span><span class="p">,</span>
                                                            <span class="n">vitrification_law</span><span class="o">=</span><span class="n">vitrification_info</span><span class="p">[</span><span class="s2">&quot;law&quot;</span><span class="p">],</span>
                                                            <span class="n">vitrification_law_args</span><span class="o">=</span><span class="n">vitrification_args</span><span class="p">,</span>
                                                            <span class="n">tg_law</span><span class="o">=</span><span class="n">tg_info</span><span class="p">[</span><span class="s2">&quot;law&quot;</span><span class="p">],</span>
                                                            <span class="n">tg_law_args</span><span class="o">=</span><span class="n">tg_args</span><span class="p">,</span>
                                                            <span class="n">coupling_law</span><span class="o">=</span><span class="n">coupling_info</span><span class="p">[</span><span class="s2">&quot;law&quot;</span><span class="p">],</span>
                                                            <span class="n">coupling_law_args</span><span class="o">=</span><span class="n">coupling_args</span><span class="p">,</span>
                                                            <span class="n">initial_extent</span><span class="o">=</span><span class="n">results_experimental_extents</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
                
                <span class="n">curve1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">results_experimental_rates</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Experimental </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">results_experimental_extents</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Experimental </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">results_experimental_temperatures</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Experimental </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                
                <span class="n">color_of_first_curve</span> <span class="o">=</span> <span class="n">curve1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">rate</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Model </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_of_first_curve</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">extent</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Model </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_of_first_curve</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results_experimental_times</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">results_experimental_temperatures</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Experimental </span><span class="si">{</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_of_first_curve</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
                
                
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Rate (s-1)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Extent&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature (K)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_rate</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_extent</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_temperature</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tabWidget_visualization</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
                
                
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;&#39;MainWindow&#39; object has no attribute &#39;selected_full_file_paths&#39;&quot;</span><span class="p">:</span>
                <span class="c1"># Handle the specific AttributeError and display a customized error message</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Please select a file.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Handle other AttributeErrors (if any) differently</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An AttributeError occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="MainWindow.clear_results_viewer_plots">
<a class="viewcode-back" href="../modules.html#main.MainWindow.clear_results_viewer_plots">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_results_viewer_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_rate</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_extent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results_viewer_temperature</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_rate</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_extent</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_results_viewer_temperature</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="MainWindow.show_extracted_result_rate">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_result_rate">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_result_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_results_viewer</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_results_viewer_rate</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="MainWindow.show_extracted_result_extent">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_result_extent">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_result_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_results_viewer</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_results_viewer_extent</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MainWindow.show_extracted_result_temperature">
<a class="viewcode-back" href="../modules.html#main.MainWindow.show_extracted_result_temperature">[docs]</a>
    <span class="k">def</span> <span class="nf">show_extracted_result_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">stackedWidget_results_viewer</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">page_results_viewer_temperature</span><span class="p">)</span></div>
</div>

     
        
        
<div class="viewcode-block" id="OptimizationThread">
<a class="viewcode-back" href="../modules.html#main.OptimizationThread">[docs]</a>
<span class="k">class</span> <span class="nc">OptimizationThread</span><span class="p">(</span><span class="n">QThread</span><span class="p">):</span>
    <span class="n">end_of_optimization</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">optimize</span><span class="o">.</span><span class="n">OptimizeResult</span><span class="p">)</span>
    <span class="n">update_progress_bar_signal</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">update_graph_signal</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="nb">object</span><span class="p">,</span><span class="nb">object</span><span class="p">)</span>
    <span class="n">error_in_optimization_thread</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="ne">Exception</span><span class="p">)</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cost_function</span><span class="p">,</span> <span class="n">initial_guess</span><span class="p">,</span> <span class="n">selected_global_optimization</span><span class="p">,</span> <span class="n">global_optimization</span><span class="p">,</span> <span class="n">global_optimization_args_dict</span><span class="p">,</span> <span class="n">selected_local_optimization</span><span class="p">,</span> <span class="n">local_optimization</span><span class="p">,</span> <span class="n">local_optimization_args_dict</span><span class="p">,</span> <span class="n">experimental_rate</span><span class="p">,</span> <span class="n">rate_law</span><span class="p">,</span> <span class="n">experimental_args_for_rate</span><span class="p">,</span> <span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span> <span class="n">vitrification_law</span><span class="p">,</span> <span class="n">experimental_args_for_vitrification</span><span class="p">,</span> <span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span> <span class="n">coupling_law</span><span class="p">,</span> <span class="n">experimental_args_for_coupling</span><span class="p">,</span> <span class="n">tg_law</span><span class="p">,</span> <span class="n">experimental_args_for_tg</span><span class="p">,</span> <span class="n">tg_args</span><span class="p">,</span> <span class="n">cost_function_args</span><span class="p">,</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span> <span class="n">max_iter</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span> <span class="o">=</span> <span class="n">cost_function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span> <span class="o">=</span> <span class="n">initial_guess</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">=</span> <span class="n">selected_global_optimization</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span> <span class="o">=</span> <span class="n">global_optimization</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span> <span class="o">=</span> <span class="n">global_optimization_args_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">=</span> <span class="n">selected_local_optimization</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization</span> <span class="o">=</span> <span class="n">local_optimization</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span> <span class="o">=</span> <span class="n">local_optimization_args_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span> <span class="o">=</span> <span class="n">experimental_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span> <span class="o">=</span> <span class="n">rate_law</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span> <span class="o">=</span> <span class="n">experimental_args_for_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span> <span class="o">=</span> <span class="n">number_of_parameters_to_optimize_for_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span> <span class="o">=</span> <span class="n">vitrification_law</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span> <span class="o">=</span> <span class="n">experimental_args_for_vitrification</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span> <span class="o">=</span> <span class="n">number_of_parameters_to_optimize_for_vitrification</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span> <span class="o">=</span> <span class="n">coupling_law</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span> <span class="o">=</span> <span class="n">experimental_args_for_coupling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span> <span class="o">=</span> <span class="n">tg_law</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span> <span class="o">=</span> <span class="n">experimental_args_for_tg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span> <span class="o">=</span> <span class="n">tg_args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span> <span class="o">=</span> <span class="n">cost_function_args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span> <span class="o">=</span> <span class="n">experimental_args_for_cost_function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span> <span class="o">=</span> <span class="n">max_iter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_iteration_for_GUI_updtate</span> <span class="o">=</span> <span class="mi">1</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">time_between_GUI_update</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># in seconds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmin_bashinhopping</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span> <span class="o">=</span> <span class="kc">None</span>
        
<div class="viewcode-block" id="OptimizationThread.run">
<a class="viewcode-back" href="../modules.html#main.OptimizationThread.run">[docs]</a>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;callback&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optimization_callback</span>   
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>        
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;callback&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optimization_callback</span>
                        
            <span class="c1"># Initialize a self.count variable that will be used to display a progress bar</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            
            <span class="c1"># Initialize a self.count</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time_module</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;basinhopping&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_local_optimization</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="c1"># If no local minimization method is selected the default local minimization is used</span>
                    <span class="c1"># However, the arguments for local minimization still need to be given, hence the creation of the args dict</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;args&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;minimizer_kwargs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin_bashinhopping</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">fun</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span>
            
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;differential_evolution&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;args&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;bounds&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;bounds&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">)</span>
                
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;shgo&#39;</span><span class="p">:</span>                
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;args&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="p">)</span>
                
                
                
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;minimizer_kwargs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;bounds&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;bounds&#39;</span><span class="p">)</span>                    
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">global_optimization_args_dict</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">[</span><span class="s1">&#39;args&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">rate_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_rate</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">vitrification_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_parameters_to_optimize_for_vitrification</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">coupling_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_coupling</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_law</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_tg</span><span class="p">,</span>
                                                            <span class="bp">self</span><span class="o">.</span><span class="n">tg_args</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">experimental_args_for_cost_function</span><span class="p">,</span>
                                                            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function_args</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_optimization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cost_function</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_guess</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">local_optimization_args_dict</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">end_of_optimization</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
            
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle other exceptions with a generic error message</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_in_optimization_thread</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span></div>

           
            
<div class="viewcode-block" id="OptimizationThread.optimization_callback">
<a class="viewcode-back" href="../modules.html#main.OptimizationThread.optimization_callback">[docs]</a>
    <span class="k">def</span> <span class="nf">optimization_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xk</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">progress</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_progress_bar_signal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">progress</span><span class="p">))</span>
        
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;basinhopping&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">xmin_bashinhopping</span> <span class="o">=</span> <span class="n">xk</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;x_min_basinhopping_all_iterations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xk</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;f_min_basinhopping_all_iterations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span> <span class="o">&gt;</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">xmin_bashinhopping</span> <span class="o">=</span> <span class="n">xk</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;x_min_basinhopping_all_iterations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xk</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;f_min_basinhopping_all_iterations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fmin_bashinhopping</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_global_optimization</span> <span class="o">==</span> <span class="s1">&#39;differential_evolution&#39;</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;convergence&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span>
            <span class="n">args</span> <span class="o">=</span> <span class="kc">None</span>
            
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_iteration_for_GUI_updtate</span><span class="p">:</span>
            <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time_module</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
            <span class="n">time_per_iteration</span> <span class="o">=</span> <span class="n">elapsed_time</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span>
            <span class="n">iteration_per_time</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">time_per_iteration</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">iteration_per_time</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">next_iteration_for_GUI_updtate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>     
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">next_iteration_for_GUI_updtate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">iteration_per_time</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_between_GUI_update</span><span class="p">)</span> 
            <span class="n">estimated_remaining_time</span> <span class="o">=</span> <span class="n">time_per_iteration</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iter</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">update_graph_signal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">,</span><span class="n">estimated_remaining_time</span><span class="p">,</span><span class="n">xk</span><span class="p">,</span><span class="n">args</span><span class="p">,</span><span class="n">kwargs</span><span class="p">)</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_iteration_for_GUI_updtate</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">estimated_remaining_time</span><span class="p">)</span></div>
</div>

        
        
        
        
        
        
        
        
        
<div class="viewcode-block" id="launch_extraction">
<a class="viewcode-back" href="../modules.html#main.launch_extraction">[docs]</a>
<span class="k">def</span> <span class="nf">launch_extraction</span><span class="p">(</span><span class="n">file_paths</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">has_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_lines</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Launch the data extraction process and processes warning and info messages.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file_paths : list</span>
<span class="sd">        List of file paths to input txt or csv files containing DSC data.</span>
<span class="sd">    delimiter : str, optional</span>
<span class="sd">        Delimiter used in the input files. Default is &#39;,&#39;.</span>
<span class="sd">    has_header : bool, optional</span>
<span class="sd">        Whether the input files have headers. Default is False.</span>
<span class="sd">    skip_lines : int, optional</span>
<span class="sd">        Number of lines to skip at the beginning of each file. Default is 0.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple</span>
<span class="sd">        A tuple containing:</span>
<span class="sd">            - boolean: Indicates whether the extraction was successful (True) or not (False).</span>
<span class="sd">            - str: String containing any warning or info messages.</span>
<span class="sd">            - numpy.ndarray: Time data.</span>
<span class="sd">            - numpy.ndarray: Temperature data.</span>
<span class="sd">            - numpy.ndarray: Rate of reaction data.</span>
<span class="sd">            - numpy.ndarray: Extent of reaction data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Capture standard output to capture warning and info messages</span>
    <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
    <span class="kn">import</span> <span class="nn">sys</span>

    <span class="n">old_stdout</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
    <span class="n">new_stdout</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">new_stdout</span>

    <span class="c1"># Call the extract_dsc_data_multiple_files function</span>
    <span class="n">time</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">rate_of_reaction</span><span class="p">,</span> <span class="n">extent_of_reaction</span> <span class="o">=</span> <span class="n">data_extraction</span><span class="o">.</span><span class="n">extract_dsc_data_multiple_files</span><span class="p">(</span>
        <span class="n">file_paths</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">has_header</span><span class="p">,</span> <span class="n">skip_lines</span><span class="p">)</span>

    <span class="c1"># Restore standard output</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">old_stdout</span>

    <span class="c1"># Get the captured output</span>
    <span class="n">captured_output</span> <span class="o">=</span> <span class="n">new_stdout</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>

    <span class="c1"># Check for warnings or info messages</span>
    <span class="k">if</span> <span class="s2">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">captured_output</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">captured_output</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">rate_of_reaction</span><span class="p">,</span> <span class="n">extent_of_reaction</span>
    <span class="k">elif</span> <span class="s2">&quot;Info&quot;</span> <span class="ow">in</span> <span class="n">captured_output</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">captured_output</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">rate_of_reaction</span><span class="p">,</span> <span class="n">extent_of_reaction</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">rate_of_reaction</span><span class="p">,</span> <span class="n">extent_of_reaction</span></div>

    
<span class="c1"># =============================================================================</span>
<span class="c1"># Function for isoconversional analysis parameters</span>
<span class="c1"># =============================================================================</span>

<div class="viewcode-block" id="get_functions_for_isoconversional_method">
<a class="viewcode-back" href="../modules.html#main.get_functions_for_isoconversional_method">[docs]</a>
<span class="k">def</span> <span class="nf">get_functions_for_isoconversional_method</span><span class="p">():</span>
    <span class="c1"># Get the isoconversional analysis methods from the isoconversional method module</span>
    <span class="n">isoconversional_methods</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">icm</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">icm</span><span class="p">,</span> <span class="n">element</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">element</span><span class="p">[:</span><span class="mi">24</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;isoconversional_analysis&quot;</span><span class="p">:</span>
                <span class="n">isoconversional_methods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">isoconversional_methods</span></div>



<div class="viewcode-block" id="get_parameters_for_isoconversional_method">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_isoconversional_method">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_isoconversional_method</span><span class="p">(</span><span class="n">isoconversional_method_name</span><span class="p">):</span>
    <span class="c1"># Get the parameters for a specified function in the isoconversional method module</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">icm</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">isoconversional_method_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">arguments</span>
    <span class="k">return</span> <span class="p">[]</span></div>

<span class="c1"># =============================================================================</span>
<span class="c1"># Function for model parameters</span>
<span class="c1"># =============================================================================</span>

<div class="viewcode-block" id="get_functions_for_kinetics">
<a class="viewcode-back" href="../modules.html#main.get_functions_for_kinetics">[docs]</a>
<span class="k">def</span> <span class="nf">get_functions_for_kinetics</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the functions related to kinetics from the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple</span>
<span class="sd">        A tuple containing four lists:</span>
<span class="sd">        - rate_laws (list): List of functions related to rate laws.</span>
<span class="sd">        - vitrification_laws (list): List of functions related to vitrification laws.</span>
<span class="sd">        - tg_laws (list): List of functions related to tg laws.</span>
<span class="sd">        - coupling_laws (list): List of functions related to coupling laws.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rate_laws</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">vitrification_laws</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tg_laws</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">coupling_laws</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">km</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">km</span><span class="p">,</span> <span class="n">element</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">element</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;rate&quot;</span><span class="p">:</span>
                <span class="n">rate_laws</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">element</span><span class="p">[:</span><span class="mi">13</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;vitrification&quot;</span><span class="p">:</span>
                <span class="n">vitrification_laws</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>            
            <span class="k">elif</span> <span class="n">element</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;coupling&quot;</span><span class="p">:</span>
                <span class="n">coupling_laws</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">element</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;tg&quot;</span><span class="p">:</span>
                <span class="n">tg_laws</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rate_laws</span><span class="p">,</span> <span class="n">vitrification_laws</span><span class="p">,</span> <span class="n">coupling_laws</span><span class="p">,</span> <span class="n">tg_laws</span></div>



<div class="viewcode-block" id="get_parameters_for_rate">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_rate">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_rate</span><span class="p">(</span><span class="n">rate_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters for a specified kinetic law in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rate_name : str</span>
<span class="sd">        The name of the function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list or None</span>
<span class="sd">        The list of parameters for the specified function if found, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">km</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">rate_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">arguments</span></div>



<div class="viewcode-block" id="get_parameters_for_vitrification">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_vitrification">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_vitrification</span><span class="p">(</span><span class="n">vitrification_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters for a specified vitrifiaction law in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    vitrification_name : str</span>
<span class="sd">        The name of the function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list or None</span>
<span class="sd">        The list of parameters for the specified function if found, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">km</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">vitrification_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">arguments</span></div>



<div class="viewcode-block" id="get_parameters_for_coupling">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_coupling">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_coupling</span><span class="p">(</span><span class="n">coupling_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters for a specified coupling law in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    coupling_name : str</span>
<span class="sd">        The name of the function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list or None</span>
<span class="sd">        The list of parameters for the specified function if found, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">km</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">coupling_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">arguments</span></div>



<div class="viewcode-block" id="get_parameters_for_tg">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_tg">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_tg</span><span class="p">(</span><span class="n">tg_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters for a specified function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tg_name : str</span>
<span class="sd">        The name of the function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list or None</span>
<span class="sd">        The list of parameters for the specified function if found, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">km</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">tg_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">arguments</span></div>



<span class="c1"># =============================================================================</span>
<span class="c1"># Functions for optimization parameters</span>
<span class="c1"># =============================================================================</span>

<div class="viewcode-block" id="get_functions_for_optimization">
<a class="viewcode-back" href="../modules.html#main.get_functions_for_optimization">[docs]</a>
<span class="k">def</span> <span class="nf">get_functions_for_optimization</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters for a specified function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tg_name : str</span>
<span class="sd">        The name of the function in the kinetic module.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list or None</span>
<span class="sd">        The list of parameters for the specified function if found, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">global_optimization_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;basinhopping&quot;</span><span class="p">,</span> <span class="s2">&quot;differential_evolution&quot;</span><span class="p">,</span><span class="s2">&quot;shgo&quot;</span><span class="p">]</span>
    <span class="n">local_optimization_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Nelder-Mead&quot;</span><span class="p">,</span> <span class="s2">&quot;CG&quot;</span><span class="p">,</span> <span class="s2">&quot;BFGS&quot;</span><span class="p">,</span> <span class="s2">&quot;L-BFGS-B&quot;</span><span class="p">]</span>
    <span class="n">rss_methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">opt</span><span class="p">)</span> <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">opt</span><span class="p">,</span> <span class="n">element</span><span class="p">))</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;rss&quot;</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">global_optimization_methods</span><span class="p">,</span> <span class="n">local_optimization_methods</span><span class="p">,</span> <span class="n">rss_methods</span></div>



<div class="viewcode-block" id="get_parameters_for_optimization">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_optimization">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_optimization</span><span class="p">(</span><span class="n">optimization_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the optimization parameters for a specified optimization method.</span>
<span class="sd">    </span>
<span class="sd">    This function returns a dictionary containing the parameters and their types for the selected optimization method.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    optimization_name : str</span>
<span class="sd">        The name of the optimization method.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">        A dictionary of parameters, their types, and whether they are optional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Define a dictionary with parameters for each optimization method</span>
    <span class="n">optimization_parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Nelder-Mead&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;maxfev&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;return_all&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;xatol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;fatol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;adaptive&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;CG&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;jac&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;gtol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;norm&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;return_all&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;BFGS&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;jac&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;gtol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;norm&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;return_all&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;xrtol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;L-BFGS-B&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;jac&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxcor&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxfun&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;iprint&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxls&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;ftol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;gtol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;eps&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;basinhopping&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;niter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;T&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;stepsize&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;niter_success&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;target_accept_rate&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;stepwise_factor&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;differential_evolution&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;disp&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;strategy&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;popsize&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;tol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;mutation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;recombination&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;polish&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;init&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;atol&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;updating&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;workers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;vectorized&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;shgo&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;iters&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
            <span class="s2">&quot;sampling_method&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sampling_method&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;workers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
            <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1"># Check if the optimization method is in the dictionary and return its parameters</span>
    <span class="k">if</span> <span class="n">optimization_name</span> <span class="ow">in</span> <span class="n">optimization_parameters</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">optimization_parameters</span><span class="p">[</span><span class="n">optimization_name</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Handle the case where the method is not found</span>
        <span class="k">return</span> <span class="p">{}</span></div>



<div class="viewcode-block" id="get_parameters_for_rss">
<a class="viewcode-back" href="../modules.html#main.get_parameters_for_rss">[docs]</a>
<span class="k">def</span> <span class="nf">get_parameters_for_rss</span><span class="p">(</span><span class="n">rss_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get and clean the arguments of a specified function from a module.</span>

<span class="sd">    This function retrieves the arguments of a specified function and removes any undesired arguments.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">        rss_name : str </span>
<span class="sd">            The name of the function to retrieve arguments from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">        list: A list of cleaned arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">opt</span>

    <span class="c1"># Try to get the specified function from the module</span>
    <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">rss_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Get the arguments using function&#39;s code object</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">function</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_argcount</span><span class="p">]</span>

        <span class="c1"># Define a list of arguments to exclude</span>
        <span class="n">arguments_to_exclude</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;experimental_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rate_law&quot;</span><span class="p">,</span>
            <span class="s2">&quot;experimental_args_for_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;number_of_parameters_to_optimize_for_rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vitrification&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vitrification_law&quot;</span><span class="p">,</span>
            <span class="s2">&quot;experimental_args_for_vitrification&quot;</span><span class="p">,</span>
            <span class="s2">&quot;number_of_parameters_to_optimize_for_vitrification&quot;</span><span class="p">,</span>
            <span class="s2">&quot;coupling_law&quot;</span><span class="p">,</span>
            <span class="s2">&quot;experimental_args_for_coupling&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tg_law&quot;</span><span class="p">,</span>
            <span class="s2">&quot;experimental_args_for_tg&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tg_args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rss_to_use_args&quot;</span>
        <span class="p">]</span>

        <span class="c1"># Create a list of cleaned arguments by excluding undesired ones</span>
        <span class="n">clean_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">arguments</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">arguments_to_exclude</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">clean_arguments</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Handle the case where the function is not found</span>
        <span class="k">return</span> <span class="p">[]</span></div>



<div class="viewcode-block" id="get_main_args_dict_and_options_dict">
<a class="viewcode-back" href="../modules.html#main.get_main_args_dict_and_options_dict">[docs]</a>
<span class="k">def</span> <span class="nf">get_main_args_dict_and_options_dict</span><span class="p">(</span><span class="n">main_args_dict</span><span class="p">,</span> <span class="n">method_dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update the arguments dictionnary for the scipy.optimize.minimize() function with values existing in the arguments dictionnary of user selected method of optimization.</span>
<span class="sd">    </span>
<span class="sd">    For example, for the Nelder-Mead method, the arguments &#39;bounds&#39; is both in the arguments of the main function and in the arguments specific to the method. It would be passed 2 times to the function, resulting in an error or conflict.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    main_args_dict : dict</span>
<span class="sd">        Dictionnary containing the main arguments for scipy.optimize.minimize().</span>
<span class="sd">    method_dict : dict</span>
<span class="sd">        Dictionary containing arguments specific to the method of minimization selected by the user.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">keys_to_remove</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">method_dict</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">main_args_dict</span><span class="p">:</span>
            <span class="n">main_args_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">method_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">keys_to_remove</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys_to_remove</span><span class="p">:</span>
        <span class="n">method_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">main_args_dict</span><span class="p">,</span> <span class="n">method_dict</span></div>


<span class="c1"># =============================================================================</span>
<span class="c1">#</span>
<span class="c1"># =============================================================================</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Check if QApplication instance already exists</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">():</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>

    <span class="n">mainWindow</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
    <span class="n">mainWindow</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>

</pre></div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Alan Tabore.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>